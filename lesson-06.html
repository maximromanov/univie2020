<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Lesson 06 | 070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) Memex Edition</title>
  <meta name="description" content="This is a collection of relevant materials for the class ‘070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) Memex Edition’, offered at the University of Vienna and taught by Maxim G. Romanov" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Lesson 06 | 070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) Memex Edition" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://maximromanov.github.io/univie2020/" />
  
  <meta property="og:description" content="This is a collection of relevant materials for the class ‘070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) Memex Edition’, offered at the University of Vienna and taught by Maxim G. Romanov" />
  <meta name="github-repo" content="maximromanov/univie2020" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Lesson 06 | 070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) Memex Edition" />
  
  <meta name="twitter:description" content="This is a collection of relevant materials for the class ‘070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) Memex Edition’, offered at the University of Vienna and taught by Maxim G. Romanov" />
  

<meta name="author" content="Maxim G. Romanov" />


<meta name="date" content="2021-01-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="touch-icon.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="lesson-05.html"/>
<link rel="next" href="lesson-07.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">070172 UE Methodological course - Introduction to DH: Tools & Techniques (2020W), <i>Memex Edition</i></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preliminaries</a></li>
<li class="chapter" data-level="" data-path="memex-and-zettelkasten.html"><a href="memex-and-zettelkasten.html"><i class="fa fa-check"></i>Memex and Zettelkasten</a><ul>
<li class="chapter" data-level="" data-path="memex-and-zettelkasten.html"><a href="memex-and-zettelkasten.html#on-memex"><i class="fa fa-check"></i>On Memex</a></li>
<li class="chapter" data-level="" data-path="memex-and-zettelkasten.html"><a href="memex-and-zettelkasten.html#on-zettelkasten"><i class="fa fa-check"></i>On Zettelkasten</a><ul>
<li><a href="memex-and-zettelkasten.html#niklas-luhmann-on-his-zettelkasten">Niklas Luhmann on his <em>Zettelkasten</em></a></li>
<li><a href="memex-and-zettelkasten.html#others-on-luhmanns-zettelkasten">Others on Luhmann’s <em>Zettelkasten</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="work-plan.html"><a href="work-plan.html"><i class="fa fa-check"></i>Work Plan</a><ul>
<li class="chapter" data-level="" data-path="work-plan.html"><a href="work-plan.html#memex-building-cycle"><i class="fa fa-check"></i>Memex-Building Cycle</a></li>
<li class="chapter" data-level="" data-path="work-plan.html"><a href="work-plan.html#research-cycle"><i class="fa fa-check"></i>Research Cycle</a><ul>
<li class="chapter" data-level="" data-path="work-plan.html"><a href="work-plan.html#building-trails"><i class="fa fa-check"></i>Building Trails</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="lesson-01.html"><a href="lesson-01.html"><i class="fa fa-check"></i><b>1</b> Lesson 01</a><ul>
<li class="chapter" data-level="1.1" data-path="lesson-01.html"><a href="lesson-01.html#bibliography-managers"><i class="fa fa-check"></i><b>1.1</b> Bibliography Managers</a></li>
<li class="chapter" data-level="1.2" data-path="lesson-01.html"><a href="lesson-01.html#zotero"><i class="fa fa-check"></i><b>1.2</b> Zotero</a><ul>
<li class="chapter" data-level="1.2.1" data-path="lesson-01.html"><a href="lesson-01.html#getting-started"><i class="fa fa-check"></i><b>1.2.1</b> Getting Started</a></li>
<li class="chapter" data-level="1.2.2" data-path="lesson-01.html"><a href="lesson-01.html#main-functionality"><i class="fa fa-check"></i><b>1.2.2</b> Main Functionality</a></li>
<li class="chapter" data-level="1.2.3" data-path="lesson-01.html"><a href="lesson-01.html#additional-functionality-plug-ins"><i class="fa fa-check"></i><b>1.2.3</b> Additional Functionality: Plug-Ins</a></li>
<li class="chapter" data-level="1.2.4" data-path="lesson-01.html"><a href="lesson-01.html#zotfile"><i class="fa fa-check"></i><b>1.2.4</b> Zotfile</a></li>
<li class="chapter" data-level="1.2.5" data-path="lesson-01.html"><a href="lesson-01.html#better-bibtex-for-zotero"><i class="fa fa-check"></i><b>1.2.5</b> Better BibTeX for Zotero</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="lesson-01.html"><a href="lesson-01.html#HWL01"><i class="fa fa-check"></i><b>1.3</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lesson-02.html"><a href="lesson-02.html"><i class="fa fa-check"></i><b>2</b> Lesson 02</a><ul>
<li class="chapter" data-level="2.1" data-path="lesson-02.html"><a href="lesson-02.html#command-line"><i class="fa fa-check"></i><b>2.1</b> Command Line</a><ul>
<li class="chapter" data-level="2.1.1" data-path="lesson-02.html"><a href="lesson-02.html#the-filesystem"><i class="fa fa-check"></i><b>2.1.1</b> The filesystem</a></li>
<li class="chapter" data-level="2.1.2" data-path="lesson-02.html"><a href="lesson-02.html#getting-started-with-the-command-line"><i class="fa fa-check"></i><b>2.1.2</b> Getting started with the command line</a></li>
<li class="chapter" data-level="2.1.3" data-path="lesson-02.html"><a href="lesson-02.html#components-of-the-command-line"><i class="fa fa-check"></i><b>2.1.3</b> Components of the command line</a></li>
<li class="chapter" data-level="2.1.4" data-path="lesson-02.html"><a href="lesson-02.html#file-paths-and-path-notations"><i class="fa fa-check"></i><b>2.1.4</b> File paths and path notations</a></li>
<li class="chapter" data-level="2.1.5" data-path="lesson-02.html"><a href="lesson-02.html#command-line-arguments"><i class="fa fa-check"></i><b>2.1.5</b> Command line arguments</a></li>
<li class="chapter" data-level="2.1.6" data-path="lesson-02.html"><a href="lesson-02.html#more-commands"><i class="fa fa-check"></i><b>2.1.6</b> More commands</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="lesson-02.html"><a href="lesson-02.html#HWL02"><i class="fa fa-check"></i><b>2.2</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lesson-03.html"><a href="lesson-03.html"><i class="fa fa-check"></i><b>3</b> Lesson 03</a><ul>
<li class="chapter" data-level="3.1" data-path="lesson-03.html"><a href="lesson-03.html#version-control-and-collaboration"><i class="fa fa-check"></i><b>3.1</b> Version Control and Collaboration</a></li>
<li class="chapter" data-level="3.2" data-path="lesson-03.html"><a href="lesson-03.html#setting-up-git"><i class="fa fa-check"></i><b>3.2</b> Setting-up <code>git</code></a></li>
<li class="chapter" data-level="3.3" data-path="lesson-03.html"><a href="lesson-03.html#general-git-workflow"><i class="fa fa-check"></i><b>3.3</b> General <code>git</code> workflow</a></li>
<li class="chapter" data-level="3.4" data-path="lesson-03.html"><a href="lesson-03.html#main-git-commands"><i class="fa fa-check"></i><b>3.4</b> Main <code>git</code> Commands</a></li>
<li class="chapter" data-level="3.5" data-path="lesson-03.html"><a href="lesson-03.html#some-useful-command-line-commands-to-remember"><i class="fa fa-check"></i><b>3.5</b> Some useful command line commands to remember</a></li>
<li class="chapter" data-level="3.6" data-path="lesson-03.html"><a href="lesson-03.html#practice"><i class="fa fa-check"></i><b>3.6</b> Practice</a></li>
<li class="chapter" data-level="3.7" data-path="lesson-03.html"><a href="lesson-03.html#HWL03"><i class="fa fa-check"></i><b>3.7</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lesson-04.html"><a href="lesson-04.html"><i class="fa fa-check"></i><b>4</b> Lesson 04</a><ul>
<li class="chapter" data-level="4.1" data-path="lesson-04.html"><a href="lesson-04.html#sustainable-academic-writing-with-markdown-pandoc-and-the-tex-family"><i class="fa fa-check"></i><b>4.1</b> Sustainable Academic Writing with <code>markdown</code>, <code>pandoc</code>, and the <code>*TeX</code> family</a></li>
<li class="chapter" data-level="4.2" data-path="lesson-04.html"><a href="lesson-04.html#class-notes"><i class="fa fa-check"></i><b>4.2</b> Class Notes</a></li>
<li class="chapter" data-level="4.3" data-path="lesson-04.html"><a href="lesson-04.html#pandoc-commands"><i class="fa fa-check"></i><b>4.3</b> <code>pandoc</code> <em>Commands</em></a></li>
<li class="chapter" data-level="4.4" data-path="lesson-04.html"><a href="lesson-04.html#writing-with-markdown-in-atom"><i class="fa fa-check"></i><b>4.4</b> Writing with markdown in Atom</a></li>
<li class="chapter" data-level="4.5" data-path="lesson-04.html"><a href="lesson-04.html#reference-materials"><i class="fa fa-check"></i><b>4.5</b> Reference Materials:</a></li>
<li class="chapter" data-level="4.6" data-path="lesson-04.html"><a href="lesson-04.html#HWL04"><i class="fa fa-check"></i><b>4.6</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lesson-05.html"><a href="lesson-05.html"><i class="fa fa-check"></i><b>5</b> Lesson 05</a><ul>
<li class="chapter" data-level="5.1" data-path="lesson-05.html"><a href="lesson-05.html#constructing-robust-searches"><i class="fa fa-check"></i><b>5.1</b> Constructing Robust Searches</a></li>
<li class="chapter" data-level="5.2" data-path="lesson-05.html"><a href="lesson-05.html#regular-expressions"><i class="fa fa-check"></i><b>5.2</b> <code>regular expressions</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="lesson-05.html"><a href="lesson-05.html#what-are-regular-expressions"><i class="fa fa-check"></i><b>5.2.1</b> What are <code>regular expressions</code>?**</a></li>
<li class="chapter" data-level="5.2.2" data-path="lesson-05.html"><a href="lesson-05.html#what-would-we-use-regular-expressions-for"><i class="fa fa-check"></i><b>5.2.2</b> What would we use <code>regular Expressions</code> for?</a></li>
<li class="chapter" data-level="5.2.3" data-path="lesson-05.html"><a href="lesson-05.html#the-basics"><i class="fa fa-check"></i><b>5.2.3</b> The Basics</a></li>
<li class="chapter" data-level="5.2.4" data-path="lesson-05.html"><a href="lesson-05.html#characters-special-characters"><i class="fa fa-check"></i><b>5.2.4</b> Characters <em>&amp;</em> Special Characters</a></li>
<li class="chapter" data-level="5.2.5" data-path="lesson-05.html"><a href="lesson-05.html#character-classes"><i class="fa fa-check"></i><b>5.2.5</b> Character Classes: <code>[]</code></a></li>
<li class="chapter" data-level="5.2.6" data-path="lesson-05.html"><a href="lesson-05.html#ranges-within-classes"><i class="fa fa-check"></i><b>5.2.6</b> Ranges (within classes)</a></li>
<li class="chapter" data-level="5.2.7" data-path="lesson-05.html"><a href="lesson-05.html#repeaters"><i class="fa fa-check"></i><b>5.2.7</b> Repeaters</a></li>
<li class="chapter" data-level="5.2.8" data-path="lesson-05.html"><a href="lesson-05.html#lab-intro-in-the-practicum-file."><i class="fa fa-check"></i><b>5.2.8</b> Lab: <em>Intro</em> (in the <em>practicum file</em>).</a></li>
<li class="chapter" data-level="5.2.9" data-path="lesson-05.html"><a href="lesson-05.html#anchoring"><i class="fa fa-check"></i><b>5.2.9</b> Anchoring</a></li>
<li class="chapter" data-level="5.2.10" data-path="lesson-05.html"><a href="lesson-05.html#alternation-pipe"><i class="fa fa-check"></i><b>5.2.10</b> Alternation: “|” (<em>pipe</em>)</a></li>
<li class="chapter" data-level="5.2.11" data-path="lesson-05.html"><a href="lesson-05.html#grouping"><i class="fa fa-check"></i><b>5.2.11</b> Grouping</a></li>
<li class="chapter" data-level="5.2.12" data-path="lesson-05.html"><a href="lesson-05.html#lab-part-i-in-the-practicum-file."><i class="fa fa-check"></i><b>5.2.12</b> Lab: Part I (in the <em>practicum file</em>).</a></li>
<li class="chapter" data-level="5.2.13" data-path="lesson-05.html"><a href="lesson-05.html#replacement"><i class="fa fa-check"></i><b>5.2.13</b> Replacement</a></li>
<li class="chapter" data-level="5.2.14" data-path="lesson-05.html"><a href="lesson-05.html#capture"><i class="fa fa-check"></i><b>5.2.14</b> Capture</a></li>
<li class="chapter" data-level="5.2.15" data-path="lesson-05.html"><a href="lesson-05.html#capture-reformat"><i class="fa fa-check"></i><b>5.2.15</b> Capture <em>&amp;</em> Reformat</a></li>
<li class="chapter" data-level="5.2.16" data-path="lesson-05.html"><a href="lesson-05.html#lab-part-ii-in-the-practicum-file."><i class="fa fa-check"></i><b>5.2.16</b> Lab: Part II (in the <em>practicum file</em>).</a></li>
<li class="chapter" data-level="5.2.17" data-path="lesson-05.html"><a href="lesson-05.html#to-keep-in-mind"><i class="fa fa-check"></i><b>5.2.17</b> <em>To keep in mind</em></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lesson-05.html"><a href="lesson-05.html#class-materials"><i class="fa fa-check"></i><b>5.3</b> Class materials</a></li>
<li class="chapter" data-level="5.4" data-path="lesson-05.html"><a href="lesson-05.html#digital-materials"><i class="fa fa-check"></i><b>5.4</b> Digital materials</a></li>
<li class="chapter" data-level="5.5" data-path="lesson-04.html"><a href="lesson-04.html#reference-materials"><i class="fa fa-check"></i><b>5.5</b> Reference Materials</a></li>
<li class="chapter" data-level="5.6" data-path="lesson-05.html"><a href="lesson-05.html#HWL05"><i class="fa fa-check"></i><b>5.6</b> Homework</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lesson-06.html"><a href="lesson-06.html"><i class="fa fa-check"></i><b>6</b> Lesson 06</a><ul>
<li class="chapter" data-level="6.1" data-path="lesson-06.html"><a href="lesson-06.html#understanding-structured-data"><i class="fa fa-check"></i><b>6.1</b> Understanding Structured Data</a><ul>
<li class="chapter" data-level="6.1.1" data-path="lesson-06.html"><a href="lesson-06.html#xml-extensible-markup-language"><i class="fa fa-check"></i><b>6.1.1</b> XML (<em>Extensible Markup Language</em>)</a></li>
<li class="chapter" data-level="6.1.2" data-path="lesson-06.html"><a href="lesson-06.html#csvtsv-comma-separated-values-tab-separated-values"><i class="fa fa-check"></i><b>6.1.2</b> CSV/TSV (<em>Comma-Separated Values</em>/ <em>Tab-Separated Values</em>)</a></li>
<li class="chapter" data-level="6.1.3" data-path="lesson-06.html"><a href="lesson-06.html#json-javascript-object-notation"><i class="fa fa-check"></i><b>6.1.3</b> JSON (<em>JavaScript Object Notation</em>)</a></li>
<li class="chapter" data-level="6.1.4" data-path="lesson-06.html"><a href="lesson-06.html#yml-or-yaml-yet-another-markup-language-yaml-aint-markup-language"><i class="fa fa-check"></i><b>6.1.4</b> YML or YAML (<em>Yet Another Markup Language</em> &gt; <em>YAML Ain’t Markup Language</em>)</a></li>
<li class="chapter" data-level="6.1.5" data-path="lesson-06.html"><a href="lesson-06.html#bibtex-most-common-bibliographic-format"><i class="fa fa-check"></i><b>6.1.5</b> <code>BibTeX</code>: <em>most common bibliographic format</em></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="lesson-06.html"><a href="lesson-06.html#larger-examples"><i class="fa fa-check"></i><b>6.2</b> Larger Examples</a><ul>
<li class="chapter" data-level="6.2.1" data-path="lesson-06.html"><a href="lesson-06.html#csv-tsv"><i class="fa fa-check"></i><b>6.2.1</b> <code>CSV</code> / <code>TSV</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="lesson-06.html"><a href="lesson-06.html#json"><i class="fa fa-check"></i><b>6.2.2</b> <code>JSON</code></a></li>
<li class="chapter" data-level="6.2.3" data-path="lesson-06.html"><a href="lesson-06.html#ymlyaml"><i class="fa fa-check"></i><b>6.2.3</b> <code>YML</code>/<code>YAML</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="lesson-06.html"><a href="lesson-06.html#in-class-practice"><i class="fa fa-check"></i><b>6.3</b> In-Class Practice</a></li>
<li class="chapter" data-level="6.4" data-path="lesson-06.html"><a href="lesson-06.html#HWL06"><i class="fa fa-check"></i><b>6.4</b> Homework</a></li>
<li class="chapter" data-level="6.5" data-path="lesson-06.html"><a href="lesson-06.html#HWL06S"><i class="fa fa-check"></i><b>6.5</b> Homework Solution</a><ul>
<li class="chapter" data-level="6.5.1" data-path="lesson-06.html"><a href="lesson-06.html#pseudocode-solution"><i class="fa fa-check"></i><b>6.5.1</b> Pseudocode solution</a></li>
<li class="chapter" data-level="6.5.2" data-path="lesson-06.html"><a href="lesson-06.html#scripts"><i class="fa fa-check"></i><b>6.5.2</b> Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="lesson-07.html"><a href="lesson-07.html"><i class="fa fa-check"></i><b>7</b> Lesson 07</a><ul>
<li class="chapter" data-level="7.1" data-path="lesson-07.html"><a href="lesson-07.html#building-memex---step-1"><i class="fa fa-check"></i><b>7.1</b> Building Memex - Step 1</a><ul>
<li class="chapter" data-level="7.1.1" data-path="lesson-07.html"><a href="lesson-07.html#pseudocode"><i class="fa fa-check"></i><b>7.1.1</b> Pseudocode</a></li>
<li class="chapter" data-level="7.1.2" data-path="lesson-07.html"><a href="lesson-07.html#code-snippets"><i class="fa fa-check"></i><b>7.1.2</b> Code snippets</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="lesson-06.html"><a href="lesson-06.html#HWL06"><i class="fa fa-check"></i><b>7.2</b> Homework</a></li>
<li class="chapter" data-level="7.3" data-path="lesson-07.html"><a href="lesson-07.html#HWL07S"><i class="fa fa-check"></i><b>7.3</b> Homework Solution</a><ul>
<li class="chapter" data-level="7.3.1" data-path="lesson-07.html"><a href="lesson-07.html#pseudocode-1"><i class="fa fa-check"></i><b>7.3.1</b> Pseudocode</a></li>
<li class="chapter" data-level="7.3.2" data-path="lesson-07.html"><a href="lesson-07.html#note-on-folderfile-organization"><i class="fa fa-check"></i><b>7.3.2</b> Note on Folder/File Organization</a></li>
<li class="chapter" data-level="7.3.3" data-path="lesson-07.html"><a href="lesson-07.html#script-1_build_structure.py"><i class="fa fa-check"></i><b>7.3.3</b> Script (<code>1_build_structure.py</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="lesson-08.html"><a href="lesson-08.html"><i class="fa fa-check"></i><b>8</b> Lesson 08</a><ul>
<li class="chapter" data-level="8.1" data-path="lesson-08.html"><a href="lesson-08.html#building-memex---step-2"><i class="fa fa-check"></i><b>8.1</b> Building Memex - Step 2</a></li>
<li class="chapter" data-level="8.2" data-path="lesson-08.html"><a href="lesson-08.html#ocr-software-tesseract"><i class="fa fa-check"></i><b>8.2</b> OCR software: Tesseract</a></li>
<li class="chapter" data-level="8.3" data-path="lesson-08.html"><a href="lesson-08.html#task-general-map-pseudocode"><i class="fa fa-check"></i><b>8.3</b> Task: General Map Pseudocode</a></li>
<li class="chapter" data-level="8.4" data-path="lesson-08.html"><a href="lesson-08.html#code-snippets-functions"><i class="fa fa-check"></i><b>8.4</b> Code snippets &amp; functions</a><ul>
<li class="chapter" data-level="8.4.1" data-path="lesson-08.html"><a href="lesson-08.html#new-libraries"><i class="fa fa-check"></i><b>8.4.1</b> New libraries</a></li>
<li class="chapter" data-level="8.4.2" data-path="lesson-08.html"><a href="lesson-08.html#code-reuse"><i class="fa fa-check"></i><b>8.4.2</b> Code Reuse</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="lesson-08.html"><a href="lesson-08.html#clean-temporary-copy-of-a-pdf"><i class="fa fa-check"></i><b>8.5</b> Clean Temporary Copy of a PDF</a><ul>
<li class="chapter" data-level="8.5.1" data-path="lesson-08.html"><a href="lesson-08.html#ocr-ing-pdf"><i class="fa fa-check"></i><b>8.5.1</b> OCR-ing PDF</a></li>
<li class="chapter" data-level="8.5.2" data-path="lesson-08.html"><a href="lesson-08.html#missing-functions"><i class="fa fa-check"></i><b>8.5.2</b> Missing functions</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="lesson-08.html"><a href="lesson-08.html#one-more-note-on-ocr"><i class="fa fa-check"></i><b>8.6</b> One more note on OCR</a></li>
<li class="chapter" data-level="8.7" data-path="lesson-08.html"><a href="lesson-08.html#HWL08"><i class="fa fa-check"></i><b>8.7</b> Homework</a></li>
<li class="chapter" data-level="8.8" data-path="lesson-08.html"><a href="lesson-08.html#HWL08S"><i class="fa fa-check"></i><b>8.8</b> Homework Solution</a></li>
<li class="chapter" data-level="8.9" data-path="lesson-08.html"><a href="lesson-08.html#tesseract-language-codes"><i class="fa fa-check"></i><b>8.9</b> Tesseract Language Codes</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="lesson-09.html"><a href="lesson-09.html"><i class="fa fa-check"></i><b>9</b> Lesson 09</a><ul>
<li class="chapter" data-level="9.1" data-path="lesson-09.html"><a href="lesson-09.html#building-memex---step-3"><i class="fa fa-check"></i><b>9.1</b> Building Memex - Step 3</a></li>
<li class="chapter" data-level="9.2" data-path="lesson-08.html"><a href="lesson-08.html#code-snippets-functions"><i class="fa fa-check"></i><b>9.2</b> Code snippets &amp; functions</a><ul>
<li class="chapter" data-level="9.2.1" data-path="lesson-09.html"><a href="lesson-09.html#the-main-function-publication-interface"><i class="fa fa-check"></i><b>9.2.1</b> The main function: Publication Interface</a></li>
<li class="chapter" data-level="9.2.2" data-path="lesson-09.html"><a href="lesson-09.html#additional-functions"><i class="fa fa-check"></i><b>9.2.2</b> Additional functions</a></li>
<li class="chapter" data-level="9.2.3" data-path="lesson-09.html"><a href="lesson-09.html#extra-function"><i class="fa fa-check"></i><b>9.2.3</b> Extra function</a></li>
<li class="chapter" data-level="9.2.4" data-path="lesson-08.html"><a href="lesson-08.html#code-reuse"><i class="fa fa-check"></i><b>9.2.4</b> Code Reuse</a></li>
<li class="chapter" data-level="9.2.5" data-path="lesson-09.html"><a href="lesson-09.html#missing-functions-the-index-page-and-the-contents-page"><i class="fa fa-check"></i><b>9.2.5</b> Missing functions: The Index Page and the Contents Page</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="lesson-09.html"><a href="lesson-09.html#HWL09"><i class="fa fa-check"></i><b>9.3</b> Homework</a></li>
<li class="chapter" data-level="9.4" data-path="lesson-09.html"><a href="lesson-09.html#HWL09S"><i class="fa fa-check"></i><b>9.4</b> Homework Solution</a></li>
<li class="chapter" data-level="9.5" data-path="lesson-09.html"><a href="lesson-09.html#additional-materials-html-css-tfidf"><i class="fa fa-check"></i><b>9.5</b> Additional materials: HTML, CSS; TFIDF</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="lesson-10.html"><a href="lesson-10.html"><i class="fa fa-check"></i><b>10</b> Lesson 10</a><ul>
<li class="chapter" data-level="10.1" data-path="lesson-10.html"><a href="lesson-10.html#building-memex---step-4"><i class="fa fa-check"></i><b>10.1</b> Building Memex - Step 4</a></li>
<li class="chapter" data-level="10.2" data-path="lesson-10.html"><a href="lesson-10.html#some-explanations-tf-idf-document-distance"><i class="fa fa-check"></i><b>10.2</b> Some explanations: TF-IDF, Document Distance</a></li>
<li class="chapter" data-level="10.3" data-path="lesson-10.html"><a href="lesson-10.html#practicalities"><i class="fa fa-check"></i><b>10.3</b> Practicalities</a></li>
<li class="chapter" data-level="10.4" data-path="lesson-10.html"><a href="lesson-10.html#CSL10"><i class="fa fa-check"></i><b>10.4</b> Code Snippets</a><ul>
<li class="chapter" data-level="10.4.1" data-path="lesson-10.html"><a href="lesson-10.html#aggregating-publications-into-a-corpus"><i class="fa fa-check"></i><b>10.4.1</b> Aggregating publications into a corpus</a></li>
<li class="chapter" data-level="10.4.2" data-path="lesson-10.html"><a href="lesson-10.html#getting-tf-idf-values-and-distance-matrix-with-sklearn"><i class="fa fa-check"></i><b>10.4.2</b> Getting <em>tf-idf</em> Values and Distance Matrix with <code>sklearn</code></a></li>
<li class="chapter" data-level="10.4.3" data-path="lesson-10.html"><a href="lesson-10.html#converting-results"><i class="fa fa-check"></i><b>10.4.3</b> Converting Results</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="lesson-10.html"><a href="lesson-10.html#HWL10"><i class="fa fa-check"></i><b>10.5</b> Homework</a></li>
<li class="chapter" data-level="10.6" data-path="lesson-10.html"><a href="lesson-10.html#HWL10S"><i class="fa fa-check"></i><b>10.6</b> Homework Solution</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html"><i class="fa fa-check"></i>Syllabus</a><ul>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#course-details"><i class="fa fa-check"></i>Course Details</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#aims-contents-and-method-of-the-course"><i class="fa fa-check"></i>Aims, Contents and Method of the Course</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#course-evaluation"><i class="fa fa-check"></i>Course Evaluation</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#class-participation"><i class="fa fa-check"></i>Class Participation</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#homework-assignments"><i class="fa fa-check"></i>Homework Assignments</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#final-project"><i class="fa fa-check"></i>Final Project</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#study-materials"><i class="fa fa-check"></i>Study materials</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#software-tools-technologies"><i class="fa fa-check"></i>Software, Tools, &amp; Technologies</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#schedule"><i class="fa fa-check"></i>Schedule</a></li>
<li class="chapter" data-level="" data-path="syllabus.html"><a href="syllabus.html#lesson-topics"><i class="fa fa-check"></i>Lesson Topics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">070172-1 UE Methodological course - Introduction to DH: Tools &amp; Techniques (2020W) <code>Memex Edition</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lesson-06" class="section level1">
<h1><span class="header-section-number">6</span> Lesson 06</h1>
<div id="understanding-structured-data" class="section level2">
<h2><span class="header-section-number">6.1</span> Understanding Structured Data</h2>
<p>Doing Digital Humanities practically always means working with structured data of some kind. In most general terms, structured data means some explicit annotation or classification that the machine can understand, and therefore — effectively use. When we see the word “Vienna”, we are likely to automatically assume that this is the name of the capital of Austria. The machine cannot know that, unless there is something else in the data that allows it to figure it out (here, an XML tag): <code>&lt;settlement country="Austria" type="capital city"&gt;Vienna&lt;/settlement&gt;</code> — from this <em>annotation</em> (and its attributes) the machine can be instructed to interpret the string <code>Vienna</code> as a <em>settlement</em> of the type <em>capital city</em> in the country of <em>Austria</em>. It is important to understand most common data formats in order to be able to create and generate them as well as to convert between different formats.</p>
<p>When we decide which format we want to work with, we need to consider the following: the ease of working with a given format (manual editing); suitability for specific analytical software; human-friendliness and readability; open vs. proprietary. In general, it does not make any sense to engage in <em>the format wars</em> (i.e., one format is better than another); one should rather develop an understanding that almost every format has its use and value in specific contexts or for specific tasks. What we also want is not to stick to a specific format and try to do everything with it and only it, but rather to be able to write scripts with which we can generate data in suitable formats or convert our data from one format into another.</p>
<p>Let’s take a look at a simple example in some most common formats.</p>
<div id="xml-extensible-markup-language" class="section level3">
<h3><span class="header-section-number">6.1.1</span> XML (<em>Extensible Markup Language</em>)</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">&lt;note&gt;</span></a>
<a class="sourceLine" id="cb25-2" title="2">  <span class="kw">&lt;to&gt;</span>Tove<span class="kw">&lt;/to&gt;</span></a>
<a class="sourceLine" id="cb25-3" title="3">  <span class="kw">&lt;from&gt;</span>Jani<span class="kw">&lt;/from&gt;</span></a>
<a class="sourceLine" id="cb25-4" title="4">  <span class="kw">&lt;heading&gt;</span>Reminder<span class="kw">&lt;/heading&gt;</span></a>
<a class="sourceLine" id="cb25-5" title="5">  <span class="kw">&lt;body&gt;</span>Don’t forget me this weekend!<span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb25-6" title="6"><span class="kw">&lt;/note&gt;</span></a></code></pre></div>
</div>
<div id="csvtsv-comma-separated-values-tab-separated-values" class="section level3">
<h3><span class="header-section-number">6.1.2</span> CSV/TSV (<em>Comma-Separated Values</em>/ <em>Tab-Separated Values</em>)</h3>
<pre><code>to,from,heading,body
Tove,Jani,Reminder,Don’t forget me this weekend!</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode cs"><code class="sourceCode cs"><a class="sourceLine" id="cb27-1" title="1">to,from,heading,body</a>
<a class="sourceLine" id="cb27-2" title="2"><span class="st">&quot;Tove&quot;</span>,<span class="st">&quot;Jani&quot;</span>,<span class="st">&quot;Reminder&quot;</span>,<span class="st">&quot;Don’t forget me this weekend!&quot;</span></a></code></pre></div>
</div>
<div id="json-javascript-object-notation" class="section level3">
<h3><span class="header-section-number">6.1.3</span> JSON (<em>JavaScript Object Notation</em>)</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb28-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb28-2" title="2">  <span class="dt">&quot;to&quot;</span><span class="fu">:</span> <span class="st">&quot;Tove&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-3" title="3">  <span class="dt">&quot;from&quot;</span><span class="fu">:</span> <span class="st">&quot;Jani&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-4" title="4">  <span class="dt">&quot;heading&quot;</span><span class="fu">:</span> <span class="st">&quot;Reminder&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb28-5" title="5">  <span class="dt">&quot;body&quot;</span><span class="fu">:</span> <span class="st">&quot;Don’t forget me this weekend!&quot;</span></a>
<a class="sourceLine" id="cb28-6" title="6"><span class="fu">}</span></a></code></pre></div>
</div>
<div id="yml-or-yaml-yet-another-markup-language-yaml-aint-markup-language" class="section level3">
<h3><span class="header-section-number">6.1.4</span> YML or YAML (<em>Yet Another Markup Language</em> &gt; <em>YAML Ain’t Markup Language</em>)</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode yml"><code class="sourceCode yaml"><a class="sourceLine" id="cb29-1" title="1"><span class="fu">to:</span><span class="at"> Tove</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="fu">from:</span><span class="at"> Jani</span></a>
<a class="sourceLine" id="cb29-3" title="3"><span class="fu">heading:</span><span class="at"> Reminder</span></a>
<a class="sourceLine" id="cb29-4" title="4"><span class="fu">body:</span><span class="at"> Don’t forget me this weekend</span></a></code></pre></div>
</div>
<div id="bibtex-most-common-bibliographic-format" class="section level3">
<h3><span class="header-section-number">6.1.5</span> <code>BibTeX</code>: <em>most common bibliographic format</em></h3>
<p>We have already used this format in our lesson on sustainable writing. If you take a closer look at the record below, you may see that this format contains lots of valuable information. Most of this we will need for our project.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><a class="sourceLine" id="cb30-1" title="1"><span class="va">@incollection</span>{<span class="ot">LuhmannKommunikation1982</span>,</a>
<a class="sourceLine" id="cb30-2" title="2">  <span class="dt">title</span> = {Kommunikation mit Zettelkiisten},</a>
<a class="sourceLine" id="cb30-3" title="3">  <span class="dt">booktitle</span> = {Öffentliche Meinung und sozialer Wandel: Für Elisabeth Noelle-Neumann = Public opinion and social change},</a>
<a class="sourceLine" id="cb30-4" title="4">  <span class="dt">author</span> = {Luhmann, Niklas},</a>
<a class="sourceLine" id="cb30-5" title="5">  <span class="dt">editor</span> = {Baier, Horst and Noelle-Neumann, Elisabeth},</a>
<a class="sourceLine" id="cb30-6" title="6">  <span class="dt">date</span> = {1982},</a>
<a class="sourceLine" id="cb30-7" title="7">  <span class="dt">pages</span> = {222--228},</a>
<a class="sourceLine" id="cb30-8" title="8">  <span class="dt">publisher</span> = {{westdt. Verl}},</a>
<a class="sourceLine" id="cb30-9" title="9">  <span class="dt">location</span> = {{Opladen}},</a>
<a class="sourceLine" id="cb30-10" title="10">  <span class="dt">annotation</span> = {OCLC: 256417947},</a>
<a class="sourceLine" id="cb30-11" title="11">  <span class="dt">file</span> = {Absolute/Path/To/PDF/Luhmann 1982 - Kommunikation mit Zettelkiisten.pdf},</a>
<a class="sourceLine" id="cb30-12" title="12">  <span class="dt">isbn</span> = {978-3-531-11533-7},</a>
<a class="sourceLine" id="cb30-13" title="13">  <span class="dt">langid</span> = {german}</a>
<a class="sourceLine" id="cb30-14" title="14">}</a></code></pre></div>
</div>
</div>
<div id="larger-examples" class="section level2">
<h2><span class="header-section-number">6.2</span> Larger Examples</h2>
<p><strong>NB</strong> data example from <a href="https://gist.github.com/Miserlou/c5cd8364bf9b2420bb29">here</a>.</p>
<p>There are some online converters that can help you to convert one format into another. For example: <a href="http://www.convertcsv.com/" class="uri">http://www.convertcsv.com/</a>.</p>
<div id="csv-tsv" class="section level3">
<h3><span class="header-section-number">6.2.1</span> <code>CSV</code> / <code>TSV</code></h3>
<pre><code>city,growth_from_2000_to_2013,latitude,longitude,population,rank,state
New York,4.8%,40.7127837,-74.0059413,8405837,1,New York
Los Angeles,4.8%,34.0522342,-118.2436849,3884307,2,California
Chicago,-6.1%,41.8781136,-87.6297982,2718782,3,Illinois</code></pre>
<p><code>TSV</code> is a better option than a <code>CSV</code>, since <code>TAB</code> characters are very unlikely to appear in values.</p>
<p>Neither <code>TSV</code> not <code>CSV</code> are good for preserving <em>new line characters</em> (<code>\n</code>)—or, in other words, text split into multiple lines. As a workaround, one can convert <code>\n</code> into some unlikely-to-occur character combination (for example, <code>;;;</code>), which would allow to restore <code>\n</code> later , if necessary.</p>
</div>
<div id="json" class="section level3">
<h3><span class="header-section-number">6.2.2</span> <code>JSON</code></h3>
<div class="sourceCode" id="cb32"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb32-1" title="1"><span class="ot">[</span></a>
<a class="sourceLine" id="cb32-2" title="2">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb32-3" title="3">        <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;New York&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-4" title="4">        <span class="dt">&quot;growth_from_2000_to_2013&quot;</span><span class="fu">:</span> <span class="st">&quot;4.8%&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-5" title="5">        <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">40.7127837</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-6" title="6">        <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-74.0059413</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-7" title="7">        <span class="dt">&quot;population&quot;</span><span class="fu">:</span> <span class="st">&quot;8405837&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-8" title="8">        <span class="dt">&quot;rank&quot;</span><span class="fu">:</span> <span class="st">&quot;1&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-9" title="9">        <span class="dt">&quot;state&quot;</span><span class="fu">:</span> <span class="st">&quot;New York&quot;</span></a>
<a class="sourceLine" id="cb32-10" title="10">    <span class="fu">}</span><span class="ot">,</span> </a>
<a class="sourceLine" id="cb32-11" title="11">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb32-12" title="12">        <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;Los Angeles&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-13" title="13">        <span class="dt">&quot;growth_from_2000_to_2013&quot;</span><span class="fu">:</span> <span class="st">&quot;4.8%&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-14" title="14">        <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">34.0522342</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-15" title="15">        <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-118.2436849</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-16" title="16">        <span class="dt">&quot;population&quot;</span><span class="fu">:</span> <span class="st">&quot;3884307&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-17" title="17">        <span class="dt">&quot;rank&quot;</span><span class="fu">:</span> <span class="st">&quot;2&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-18" title="18">        <span class="dt">&quot;state&quot;</span><span class="fu">:</span> <span class="st">&quot;California&quot;</span></a>
<a class="sourceLine" id="cb32-19" title="19">    <span class="fu">}</span><span class="ot">,</span> </a>
<a class="sourceLine" id="cb32-20" title="20">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb32-21" title="21">        <span class="dt">&quot;city&quot;</span><span class="fu">:</span> <span class="st">&quot;Chicago&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-22" title="22">        <span class="dt">&quot;growth_from_2000_to_2013&quot;</span><span class="fu">:</span> <span class="st">&quot;-6.1%&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-23" title="23">        <span class="dt">&quot;latitude&quot;</span><span class="fu">:</span> <span class="fl">41.8781136</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-24" title="24">        <span class="dt">&quot;longitude&quot;</span><span class="fu">:</span> <span class="fl">-87.6297982</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-25" title="25">        <span class="dt">&quot;population&quot;</span><span class="fu">:</span> <span class="st">&quot;2718782&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-26" title="26">        <span class="dt">&quot;rank&quot;</span><span class="fu">:</span> <span class="st">&quot;3&quot;</span><span class="fu">,</span> </a>
<a class="sourceLine" id="cb32-27" title="27">        <span class="dt">&quot;state&quot;</span><span class="fu">:</span> <span class="st">&quot;Illinois&quot;</span></a>
<a class="sourceLine" id="cb32-28" title="28">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb32-29" title="29"><span class="ot">]</span></a></code></pre></div>
</div>
<div id="ymlyaml" class="section level3">
<h3><span class="header-section-number">6.2.3</span> <code>YML</code>/<code>YAML</code></h3>
<p>YAML is often used only for a single set of parameters.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode yml"><code class="sourceCode yaml"><a class="sourceLine" id="cb33-1" title="1"><span class="fu">city:</span><span class="at"> New York </span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="fu">growth_from_2000_to_2013:</span><span class="at"> 4.8% </span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="fu">latitude:</span><span class="at"> </span><span class="fl">40.7127837</span><span class="at"> </span></a>
<a class="sourceLine" id="cb33-4" title="4"><span class="fu">longitude:</span><span class="at"> </span><span class="fl">-74.0059413</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="fu">population:</span><span class="at"> </span><span class="dv">8405837</span><span class="at"> </span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="fu">rank:</span><span class="at"> </span><span class="dv">1</span><span class="at"> </span></a>
<a class="sourceLine" id="cb33-7" title="7"><span class="fu">state:</span><span class="at"> New York</span></a></code></pre></div>
<p>But it can also be used for storage of serialized data. It has advantages of both JSON and CSV: the overall simplicity of the format (no tricky syntax) is similar to that of CSV/TSV, but it is more readable than CSV/TSV in any text editor, and is more difficult to break—again, due to the simplicity of the format.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode yml"><code class="sourceCode yaml"><a class="sourceLine" id="cb34-1" title="1"><span class="fu">New York:</span></a>
<a class="sourceLine" id="cb34-2" title="2">  <span class="fu">growth_from_2000_to_2013:</span><span class="at"> 4.8% </span></a>
<a class="sourceLine" id="cb34-3" title="3">  <span class="fu">latitude:</span><span class="at"> </span><span class="fl">40.7127837</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-4" title="4">  <span class="fu">longitude:</span><span class="at"> </span><span class="fl">-74.0059413</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-5" title="5">  <span class="fu">population:</span><span class="at"> </span><span class="dv">8405837</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-6" title="6">  <span class="fu">rank:</span><span class="at"> </span><span class="dv">1</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-7" title="7">  <span class="fu">state:</span><span class="at"> New York </span></a>
<a class="sourceLine" id="cb34-8" title="8"><span class="fu">Los Angeles:</span></a>
<a class="sourceLine" id="cb34-9" title="9">  <span class="fu">growth_from_2000_to_2013:</span><span class="at"> 4.8% </span></a>
<a class="sourceLine" id="cb34-10" title="10">  <span class="fu">latitude:</span><span class="at"> </span><span class="fl">34.0522342</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-11" title="11">  <span class="fu">longitude:</span><span class="at"> </span><span class="fl">-118.2436849</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-12" title="12">  <span class="fu">population:</span><span class="at"> </span><span class="dv">3884307</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-13" title="13">  <span class="fu">rank:</span><span class="at"> </span><span class="dv">2</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-14" title="14">  <span class="fu">state:</span><span class="at"> California</span></a>
<a class="sourceLine" id="cb34-15" title="15"><span class="fu">Chicago:</span></a>
<a class="sourceLine" id="cb34-16" title="16">  <span class="fu">growth_from_2000_to_2013:</span><span class="at"> -6.1% </span></a>
<a class="sourceLine" id="cb34-17" title="17">  <span class="fu">latitude:</span><span class="at"> </span><span class="fl">41.8781136</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-18" title="18">  <span class="fu">longitude:</span><span class="at"> </span><span class="fl">-87.6297982</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-19" title="19">  <span class="fu">population:</span><span class="at"> </span><span class="dv">2718782</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-20" title="20">  <span class="fu">rank:</span><span class="at"> </span><span class="dv">3</span><span class="at"> </span></a>
<a class="sourceLine" id="cb34-21" title="21">  <span class="fu">state:</span><span class="at"> Illinois</span></a></code></pre></div>
<p>YAML files can be read with Python into <code>dictionaries</code> like so:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode py"><code class="sourceCode python"><a class="sourceLine" id="cb35-1" title="1"><span class="im">import</span> yaml</a>
<a class="sourceLine" id="cb35-2" title="2">dictionary <span class="op">=</span> yaml.load(<span class="bu">open</span>(pathToFile))</a></code></pre></div>
<p>You will most likely need to install <code>yaml</code> library; it is also quite easy to write a script that would read such serialized data.</p>
<p><strong>Note on installing libraries for <code>python</code></strong>. In general, it should be as easy as running the following command in your command line tool:</p>
<pre><code>pip install --upgrade libraryName</code></pre>
<ul>
<li><code>pip</code> is the standard package installer for <code>python</code>; if you are running version 3.xx of <code>python</code>, it may be <code>pip3</code> instead of <code>pip</code>. If you have Anaconda installed, you can also use Anacodnda interface to install packages;</li>
<li><code>install</code> is the command to install a package that you need;</li>
<li><code>--upgrade</code> is an optional argument that you would need only when you upgrade already installed package;</li>
<li><code>libraryName</code> is the name of the library that you want to install.</li>
</ul>
<p>This should work just fine, but sometimes it does not—usually when you have multiple versions of <code>python</code> installed and they may start conflicting with each other (another good reason to handle your <code>python</code> installations via Anaconda). There is, luckily, a workaround that seems to do the trick.You can modify your command in the following manner:</p>
<pre><code>python -m pip install --upgrade libraryName</code></pre>
<ul>
<li><code>python</code> here is whatever alias you are using for running <code>python</code> (e.g., in my case it is <code>python3</code>, so the full command will look: <code>python3 -m pip install --upgrade libraryName</code>)</li>
</ul>
</div>
</div>
<div id="in-class-practice" class="section level2">
<h2><span class="header-section-number">6.3</span> In-Class Practice</h2>
<p>Let’s try to convert this <a href="./files/zotero_biblatex_sample.bib"><code>bibTex</code> file</a> into other formats. Before we begin, however, let’s break down this task into smaller tasks and organize them together in some form of <code>pseudocode</code>.</p>
<ul>
<li>Which of the above-discussed formats would be most suitable? Why yes, why no?</li>
</ul>
</div>
<div id="HWL06" class="section level2">
<h2><span class="header-section-number">6.4</span> Homework</h2>
<ul>
<li>Take your bibliography in <code>bibTeX</code> format and convert it into: <code>csv</code>/<code>tsv</code>, <code>json</code>, and <code>yaml</code>;
<ul>
<li><em>Hint</em>: you should load your data into a <code>dictionary</code>;</li>
<li>additionally, you might want to create (manually) a dictionary of <code>bibTeX</code> field: some of the fields are named differently, while they contain the same type of information — you want to identify those fields and unify them for your output format, which will improve the quality of your data (the process usually called <em>normalization</em>); <em>hint:</em> in order to figure out how to identify those fields, you may want to look into the <em>Word Frequency</em> program in Chapter 11. You can use this approach to identify all fields and count their frequencies, which will help you to determine which fields to keep and which to normalize (i.e., merge low-frequency fields into high-frequency fields).</li>
</ul></li>
<li>upload your results together with scripts to your homework github repository</li>
</ul>
<p><strong>Python</strong></p>
<ul>
<li>Work through Chapters 8 and 11 of Zelle’s book; read chapters carefully; work through the chapter summaries and exercises; complete the following programming exercises: 1-8 in Chapter 8 and 1-11 in Chapter 11;</li>
<li>Watch <a href="https://www.youtube.com/playlist?list=PL6kqrM2i6BPIpEF5yHPNkYhjHm-FYWh17">Dr. Vierthaler’s videos</a>:
<ul>
<li>Episode 12: Functions</li>
<li>Episode 13: Libraries and NLTK</li>
<li>Episode 14: Regular Expressions</li>
</ul></li>
<li><strong>Note:</strong> the sequences are somewhat different in Zelle’s textbook and Vierthaler’s videos. I would recommend you to always check Vierthaler’s videos and also check videos which cover topics that you read about in Zelle’s book.</li>
</ul>
<p><strong>Webscraping (optional)</strong></p>
<ul>
<li>if you are interested in <em>webscraping</em>, you can check the following tutorials:
<ul>
<li>Milligan, Ian. 2012. “Automated Downloading with Wget.” Programming Historian, June. <a href="https://programminghistorian.org/lessons/automated-downloading-with-wget" class="uri">https://programminghistorian.org/lessons/automated-downloading-with-wget</a>.</li>
<li>Kurschinski, Kellen. 2013. “Applied Archival Downloading with Wget.” Programming Historian, September. <a href="https://programminghistorian.org/lessons/applied-archival-downloading-with-wget" class="uri">https://programminghistorian.org/lessons/applied-archival-downloading-with-wget</a>.</li>
<li>Baxter, Richard. 2019. “How to download your website using WGET for Windows.” <a href="https://builtvisible.com/download-your-website-with-wget/" class="uri">https://builtvisible.com/download-your-website-with-wget/</a>.</li>
<li>Alternatively, this operation can be done with a Python script: Turkel, William J., and Adam Crymble. 2012. “Downloading Web Pages with Python.” Programming Historian, July. <a href="https://programminghistorian.org/lessons/working-with-web-pages" class="uri">https://programminghistorian.org/lessons/working-with-web-pages</a>.</li>
</ul></li>
</ul>
<p><strong>Submitting homework:</strong></p>
<ul>
<li>Homework assignment must be submitted by the beginning of the next class;</li>
<li>Now, that you know how to use GitHub, you will be submitting your homework pushing it to github:
<ul>
<li>Create a relevant subfoler in your <code>HW070172</code> repository and place your HW files there; push them to your GitHub account;
<ul>
<li>Email me the link to your repository with a short message (Something like: <em>I have completed homework for Lesson 3, which is uploaded to my repository … in subfolder <code>L03</code></em>)</li>
<li>In the subject of your email, please, add the following: <code>CCXXXXX-LXX-HW-YourLastName-YourMatriculationNumber</code>, where <code>CCXXXXX</code> is the numeric code of the course; <code>LXX</code> is the lesson for which the homework is being submitted; <code>YourLastName</code> is your last name, and <code>YourMatriculationNumber</code> is your matriculation number.</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="HWL06S" class="section level2">
<h2><span class="header-section-number">6.5</span> Homework Solution</h2>
<p>Before we proceed, let’s make sure that you have the same folder structure on you machine. This will help to ensure that we will not run into other issiues and can focus on solving one problem at a time. (Please, download <a href="./files/L06_Conversion.zip">these files</a> for <code>L06_Conversion</code> folder: unzip and move them all into the folder). The structure should be as follows:</p>
<pre><code>.
├── MEMEX_SANDBOX
│   └── data
├── L06_Conversion
│   ├── comments.md
│   ├── pseudocode.md
│   ├── z_1_preliminary.py
│   ├── z_2_conversion_simple.py
│   ├── z_config.yml
│   └── zotero_biblatex_sample.bib
└── L07_Memex_Step1
    ├── ... your scripts ...
    └── ... your scripts ...
</code></pre>
<p><strong>NB:</strong> <code>./MEMEX_SANDBOX/data/</code> is the target folder for all other assignments to follow. This is where we will be creating our memex.</p>
<div id="pseudocode-solution" class="section level3">
<h3><span class="header-section-number">6.5.1</span> Pseudocode solution</h3>
<ol start="0" style="list-style-type: decimal">
<li>look at the file, i.e. check the file in order to understand it structure</li>
<li>create a holder for our data, which will be <code>dictionary</code> (dic, list, etc.)</li>
<li>read as one big string</li>
<li>split into records using <code>\n@</code>
<ul>
<li>we will get a list of strings</li>
</ul></li>
<li>loop through all the records:
NB: each records is a string that needs to be converted into something else.
<ul>
<li>we need to split each record using <code>,\n</code></li>
<li>now we loop through the list of “key-value” pairs</li>
<li><code>type{citationkey</code> element:
<ul>
<li>grab list element with index 0 (<code>citationkey = record[0]</code>)</li>
<li>split the element on <code>{</code>
<ul>
<li>recordType = element[0]</li>
<li>citationKey = element[1]</li>
</ul></li>
</ul></li>
<li>add a record into our <code>dictionary</code> using citationKey as a key value</li>
<li>add recordType into the newly created record</li>
<li>process the rest of the record:
<ul>
<li>loop through the record, starting with 1:
<ul>
<li><code>for r in record[1:]:</code></li>
</ul></li>
<li>split every element on <code>=</code>
<ul>
<li>key = element[0].strip()</li>
<li>value = element[1].strip()</li>
<li>add our key-value pair into the <code>dictionary</code></li>
</ul></li>
</ul></li>
</ul></li>
<li>Save <code>dictionary</code> into CSV, JSON, YAML</li>
</ol>
</div>
<div id="scripts" class="section level3">
<h3><span class="header-section-number">6.5.2</span> Scripts</h3>
<p><strong>Script 1: analyzing bibTex data (<code>z_1_preliminary.py</code>)</strong></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode py"><code class="sourceCode python"><a class="sourceLine" id="cb39-1" title="1"><span class="im">import</span> os, yaml</a>
<a class="sourceLine" id="cb39-2" title="2"></a>
<a class="sourceLine" id="cb39-3" title="3"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb39-4" title="4"><span class="co"># VARIABLES ###############################################</span></a>
<a class="sourceLine" id="cb39-5" title="5"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb39-6" title="6"></a>
<a class="sourceLine" id="cb39-7" title="7">settingsFile <span class="op">=</span> <span class="st">&quot;z_config.yml&quot;</span></a>
<a class="sourceLine" id="cb39-8" title="8"><span class="bu">vars</span> <span class="op">=</span> yaml.load(<span class="bu">open</span>(settingsFile))</a>
<a class="sourceLine" id="cb39-9" title="9"></a>
<a class="sourceLine" id="cb39-10" title="10"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb39-11" title="11"><span class="co"># FUNCTIONS ###############################################</span></a>
<a class="sourceLine" id="cb39-12" title="12"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb39-13" title="13"></a>
<a class="sourceLine" id="cb39-14" title="14"><span class="co"># analyze bibTeX data; identify what needs to be fixed</span></a>
<a class="sourceLine" id="cb39-15" title="15"></a>
<a class="sourceLine" id="cb39-16" title="16"><span class="kw">def</span> bibAnalyze(bibTexFile):</a>
<a class="sourceLine" id="cb39-17" title="17"></a>
<a class="sourceLine" id="cb39-18" title="18">    tempDic <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb39-19" title="19"></a>
<a class="sourceLine" id="cb39-20" title="20">    <span class="cf">with</span> <span class="bu">open</span>(bibTexFile, <span class="st">&quot;r&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf8&quot;</span>) <span class="im">as</span> f1:</a>
<a class="sourceLine" id="cb39-21" title="21">        records <span class="op">=</span> f1.read()</a>
<a class="sourceLine" id="cb39-22" title="22">        records <span class="op">=</span> records.split(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">@&quot;</span>)</a>
<a class="sourceLine" id="cb39-23" title="23"></a>
<a class="sourceLine" id="cb39-24" title="24">        <span class="cf">for</span> record <span class="kw">in</span> records[<span class="dv">1</span>:]:</a>
<a class="sourceLine" id="cb39-25" title="25">            <span class="co"># let process ONLY those records that have PDFs</span></a>
<a class="sourceLine" id="cb39-26" title="26">            <span class="cf">if</span> <span class="st">&quot;.pdf&quot;</span> <span class="kw">in</span> record.lower():</a>
<a class="sourceLine" id="cb39-27" title="27">                record <span class="op">=</span> record.strip()</a>
<a class="sourceLine" id="cb39-28" title="28">                record <span class="op">=</span> record.split(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)[:<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb39-29" title="29"></a>
<a class="sourceLine" id="cb39-30" title="30">                <span class="cf">for</span> r <span class="kw">in</span> record[<span class="dv">1</span>:]:</a>
<a class="sourceLine" id="cb39-31" title="31">                    r <span class="op">=</span> r.split(<span class="st">&quot;=&quot;</span>)[<span class="dv">0</span>].strip()</a>
<a class="sourceLine" id="cb39-32" title="32"></a>
<a class="sourceLine" id="cb39-33" title="33">                    <span class="cf">if</span> r <span class="kw">in</span> tempDic:</a>
<a class="sourceLine" id="cb39-34" title="34">                        tempDic[r] <span class="op">+=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb39-35" title="35">                    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb39-36" title="36">                        tempDic[r] <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb39-37" title="37"></a>
<a class="sourceLine" id="cb39-38" title="38">    results <span class="op">=</span> []</a>
<a class="sourceLine" id="cb39-39" title="39">    <span class="cf">for</span> k,v <span class="kw">in</span> tempDic.items():</a>
<a class="sourceLine" id="cb39-40" title="40">        result <span class="op">=</span> <span class="st">&quot;</span><span class="sc">%010d</span><span class="ch">\t</span><span class="sc">%s</span><span class="st">&quot;</span> <span class="op">%</span> (v, k)</a>
<a class="sourceLine" id="cb39-41" title="41">        results.append(result)</a>
<a class="sourceLine" id="cb39-42" title="42"></a>
<a class="sourceLine" id="cb39-43" title="43">    results <span class="op">=</span> <span class="bu">sorted</span>(results, reverse<span class="op">=</span><span class="va">True</span>)</a>
<a class="sourceLine" id="cb39-44" title="44">    results <span class="op">=</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>.join(results)</a>
<a class="sourceLine" id="cb39-45" title="45"></a>
<a class="sourceLine" id="cb39-46" title="46">    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;bibtex_analysis.txt&quot;</span>, <span class="st">&quot;w&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf8&quot;</span>) <span class="im">as</span> f9:</a>
<a class="sourceLine" id="cb39-47" title="47">        f9.write(results)</a>
<a class="sourceLine" id="cb39-48" title="48"></a>
<a class="sourceLine" id="cb39-49" title="49">bibAnalyze(<span class="bu">vars</span>[<span class="st">&#39;bib_all&#39;</span>])</a></code></pre></div>
<p>This script will create the file <code>bibtex_analysis.txt</code>, which will be a frequency list of keys from all <code>bibTeX</code> records. We would want to convert this frequency list into a YML file which we can then load with <code>yaml</code> library (make sure to install it!). Loading yml data into a python dictionary is as easy as: <code>dictionary = yaml.load(open(fileNameYml))</code>.</p>
<p>You can convert the frequency list into a proper yml file using regular expressions:</p>
<p><img src="images/reformatToYML.gif" /></p>
<p><strong>Script 2: loading bibTeX data and converting to other formats (<code>z_2_conversion_simple.py</code>)</strong></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb40-1" title="1"></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="im">import</span> re</a>
<a class="sourceLine" id="cb40-3" title="3"><span class="im">import</span> yaml</a>
<a class="sourceLine" id="cb40-4" title="4"></a>
<a class="sourceLine" id="cb40-5" title="5"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb40-6" title="6"><span class="co">1. load bibtex file</span></a>
<a class="sourceLine" id="cb40-7" title="7"><span class="co">    - bibliography should be curated in Zotero (one can program cleaning procedures into the script, but this is not as reliable);</span></a>
<a class="sourceLine" id="cb40-8" title="8"><span class="co">    - loading bibtex data, keep only those records that have PDFs;</span></a>
<a class="sourceLine" id="cb40-9" title="9"><span class="co">    - some processing might be necessary (like picking one file out of two and more)</span></a>
<a class="sourceLine" id="cb40-10" title="10"><span class="co">2. convert into other formats</span></a>
<a class="sourceLine" id="cb40-11" title="11"><span class="co">    - csv</span></a>
<a class="sourceLine" id="cb40-12" title="12"><span class="co">    - json</span></a>
<a class="sourceLine" id="cb40-13" title="13"><span class="co">    - yml</span></a>
<a class="sourceLine" id="cb40-14" title="14"><span class="co">&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb40-15" title="15"></a>
<a class="sourceLine" id="cb40-16" title="16"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-17" title="17"><span class="co"># VARIABLES ###############################################</span></a>
<a class="sourceLine" id="cb40-18" title="18"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-19" title="19"></a>
<a class="sourceLine" id="cb40-20" title="20">settingsFile <span class="op">=</span> <span class="st">&quot;z_config.yml&quot;</span></a>
<a class="sourceLine" id="cb40-21" title="21">settings <span class="op">=</span> yaml.load(<span class="bu">open</span>(settingsFile))</a>
<a class="sourceLine" id="cb40-22" title="22">bibKeys <span class="op">=</span> yaml.load(<span class="bu">open</span>(<span class="st">&quot;zotero_biblatex_keys.yml&quot;</span>))</a>
<a class="sourceLine" id="cb40-23" title="23"></a>
<a class="sourceLine" id="cb40-24" title="24"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-25" title="25"><span class="co"># FUNCTIONS ###############################################</span></a>
<a class="sourceLine" id="cb40-26" title="26"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-27" title="27"></a>
<a class="sourceLine" id="cb40-28" title="28"><span class="co"># load bibTex Data into a dictionary</span></a>
<a class="sourceLine" id="cb40-29" title="29"><span class="kw">def</span> bibLoad(bibTexFile):</a>
<a class="sourceLine" id="cb40-30" title="30"></a>
<a class="sourceLine" id="cb40-31" title="31">    bibDic <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb40-32" title="32"></a>
<a class="sourceLine" id="cb40-33" title="33">    <span class="cf">with</span> <span class="bu">open</span>(bibTexFile, <span class="st">&quot;r&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf8&quot;</span>) <span class="im">as</span> f1:</a>
<a class="sourceLine" id="cb40-34" title="34">        records <span class="op">=</span> f1.read().split(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">@&quot;</span>)</a>
<a class="sourceLine" id="cb40-35" title="35"></a>
<a class="sourceLine" id="cb40-36" title="36">        <span class="cf">for</span> record <span class="kw">in</span> records[<span class="dv">1</span>:]:</a>
<a class="sourceLine" id="cb40-37" title="37">            <span class="co"># let process ONLY those records that have PDFs</span></a>
<a class="sourceLine" id="cb40-38" title="38">            <span class="cf">if</span> <span class="st">&quot;.pdf&quot;</span> <span class="kw">in</span> record.lower():</a>
<a class="sourceLine" id="cb40-39" title="39"></a>
<a class="sourceLine" id="cb40-40" title="40">                record <span class="op">=</span> record.strip().split(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)[:<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb40-41" title="41"></a>
<a class="sourceLine" id="cb40-42" title="42">                rType <span class="op">=</span> record[<span class="dv">0</span>].split(<span class="st">&quot;{&quot;</span>)[<span class="dv">0</span>].strip()</a>
<a class="sourceLine" id="cb40-43" title="43">                rCite <span class="op">=</span> record[<span class="dv">0</span>].split(<span class="st">&quot;{&quot;</span>)[<span class="dv">1</span>].strip().replace(<span class="st">&quot;,&quot;</span>, <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb40-44" title="44"></a>
<a class="sourceLine" id="cb40-45" title="45">                bibDic[rCite] <span class="op">=</span> {}</a>
<a class="sourceLine" id="cb40-46" title="46">                bibDic[rCite][<span class="st">&quot;rCite&quot;</span>] <span class="op">=</span> rCite</a>
<a class="sourceLine" id="cb40-47" title="47">                bibDic[rCite][<span class="st">&quot;rType&quot;</span>] <span class="op">=</span> rType</a>
<a class="sourceLine" id="cb40-48" title="48"></a>
<a class="sourceLine" id="cb40-49" title="49">                <span class="cf">for</span> r <span class="kw">in</span> record[<span class="dv">1</span>:]:</a>
<a class="sourceLine" id="cb40-50" title="50">                    key <span class="op">=</span> r.split(<span class="st">&quot;=&quot;</span>)[<span class="dv">0</span>].strip()</a>
<a class="sourceLine" id="cb40-51" title="51">                    val <span class="op">=</span> r.split(<span class="st">&quot;=&quot;</span>)[<span class="dv">1</span>].strip()</a>
<a class="sourceLine" id="cb40-52" title="52">                    val <span class="op">=</span> re.sub(<span class="st">&quot;^\{|\},?&quot;</span>, <span class="st">&quot;&quot;</span>, val)</a>
<a class="sourceLine" id="cb40-53" title="53"></a>
<a class="sourceLine" id="cb40-54" title="54">                    fixedKey <span class="op">=</span> bibKeys[key]</a>
<a class="sourceLine" id="cb40-55" title="55"></a>
<a class="sourceLine" id="cb40-56" title="56">                    bibDic[rCite][fixedKey] <span class="op">=</span> val</a>
<a class="sourceLine" id="cb40-57" title="57"></a>
<a class="sourceLine" id="cb40-58" title="58"></a>
<a class="sourceLine" id="cb40-59" title="59">    <span class="bu">print</span>(<span class="st">&quot;=&quot;</span><span class="op">*</span><span class="dv">80</span>)</a>
<a class="sourceLine" id="cb40-60" title="60">    <span class="bu">print</span>(<span class="st">&quot;NUMBER OF RECORDS IN BIBLIGORAPHY: </span><span class="sc">%d</span><span class="st">&quot;</span> <span class="op">%</span> <span class="bu">len</span>(bibDic))</a>
<a class="sourceLine" id="cb40-61" title="61">    <span class="bu">print</span>(<span class="st">&quot;=&quot;</span><span class="op">*</span><span class="dv">80</span>)</a>
<a class="sourceLine" id="cb40-62" title="62">    <span class="cf">return</span>(bibDic)</a>
<a class="sourceLine" id="cb40-63" title="63"></a>
<a class="sourceLine" id="cb40-64" title="64"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-65" title="65"><span class="co"># CONVERSION FUNCTIONS ####################################</span></a>
<a class="sourceLine" id="cb40-66" title="66"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-67" title="67"></a>
<a class="sourceLine" id="cb40-68" title="68"><span class="im">import</span> json</a>
<a class="sourceLine" id="cb40-69" title="69"><span class="kw">def</span> convertToJSON(bibTexFile):</a>
<a class="sourceLine" id="cb40-70" title="70">    data <span class="op">=</span> bibLoad(bibTexFile)</a>
<a class="sourceLine" id="cb40-71" title="71">    <span class="cf">with</span> <span class="bu">open</span>(bibTexFile.replace(<span class="st">&quot;.bib&quot;</span>, <span class="st">&quot;.json&quot;</span>), <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf8&#39;</span>) <span class="im">as</span> f9:</a>
<a class="sourceLine" id="cb40-72" title="72">        json.dump(data, f9, sort_keys<span class="op">=</span><span class="va">True</span>, indent<span class="op">=</span><span class="dv">4</span>, ensure_ascii<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb40-73" title="73"></a>
<a class="sourceLine" id="cb40-74" title="74"></a>
<a class="sourceLine" id="cb40-75" title="75"><span class="im">import</span> yaml</a>
<a class="sourceLine" id="cb40-76" title="76"><span class="kw">def</span> convertToYAML(bibTexFile):</a>
<a class="sourceLine" id="cb40-77" title="77">    data <span class="op">=</span> bibLoad(bibTexFile)</a>
<a class="sourceLine" id="cb40-78" title="78">    <span class="cf">with</span> <span class="bu">open</span>(bibTexFile.replace(<span class="st">&quot;.bib&quot;</span>, <span class="st">&quot;.yaml&quot;</span>), <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf8&#39;</span>) <span class="im">as</span> f9:</a>
<a class="sourceLine" id="cb40-79" title="79">        yaml.dump(data, f9)</a>
<a class="sourceLine" id="cb40-80" title="80"></a>
<a class="sourceLine" id="cb40-81" title="81"><span class="co"># CSV is the trickest because bibTeX is not symmetrical</span></a>
<a class="sourceLine" id="cb40-82" title="82"><span class="kw">def</span> convertToCSV(bibTexFile):</a>
<a class="sourceLine" id="cb40-83" title="83">    data <span class="op">=</span> bibLoad(bibTexFile)</a>
<a class="sourceLine" id="cb40-84" title="84">    <span class="co"># let&#39;s handpick fields that we want to save: citeKey, type, author, title, date</span></a>
<a class="sourceLine" id="cb40-85" title="85">    headerList <span class="op">=</span> [<span class="st">&#39;citeKey&#39;</span>, <span class="st">&#39;type&#39;</span>, <span class="st">&#39;author&#39;</span>, <span class="st">&#39;title&#39;</span>, <span class="st">&#39;date&#39;</span>] </a>
<a class="sourceLine" id="cb40-86" title="86">    header <span class="op">=</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>.join(headerList)</a>
<a class="sourceLine" id="cb40-87" title="87"></a>
<a class="sourceLine" id="cb40-88" title="88">    dataNew <span class="op">=</span> [header]</a>
<a class="sourceLine" id="cb40-89" title="89"></a>
<a class="sourceLine" id="cb40-90" title="90">    <span class="cf">for</span> k,v <span class="kw">in</span> data.items():</a>
<a class="sourceLine" id="cb40-91" title="91">        citeKey <span class="op">=</span> k</a>
<a class="sourceLine" id="cb40-92" title="92"></a>
<a class="sourceLine" id="cb40-93" title="93">        <span class="cf">if</span> <span class="st">&#39;rType&#39;</span> <span class="kw">in</span> v:</a>
<a class="sourceLine" id="cb40-94" title="94">            rType <span class="op">=</span> v[<span class="st">&#39;rType&#39;</span>]</a>
<a class="sourceLine" id="cb40-95" title="95">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb40-96" title="96">            rType <span class="op">=</span> <span class="st">&quot;NA&quot;</span></a>
<a class="sourceLine" id="cb40-97" title="97"></a>
<a class="sourceLine" id="cb40-98" title="98">        <span class="cf">if</span> <span class="st">&#39;author&#39;</span> <span class="kw">in</span> v:</a>
<a class="sourceLine" id="cb40-99" title="99">            author <span class="op">=</span> v[<span class="st">&#39;author&#39;</span>]</a>
<a class="sourceLine" id="cb40-100" title="100">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb40-101" title="101">            author <span class="op">=</span> <span class="st">&quot;NA&quot;</span></a>
<a class="sourceLine" id="cb40-102" title="102"></a>
<a class="sourceLine" id="cb40-103" title="103">        <span class="cf">if</span> <span class="st">&#39;title&#39;</span> <span class="kw">in</span> v:</a>
<a class="sourceLine" id="cb40-104" title="104">            title <span class="op">=</span> v[<span class="st">&#39;title&#39;</span>]</a>
<a class="sourceLine" id="cb40-105" title="105">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb40-106" title="106">            title <span class="op">=</span> <span class="st">&quot;NA&quot;</span></a>
<a class="sourceLine" id="cb40-107" title="107"></a>
<a class="sourceLine" id="cb40-108" title="108">        <span class="cf">if</span> <span class="st">&#39;date&#39;</span> <span class="kw">in</span> v:</a>
<a class="sourceLine" id="cb40-109" title="109">            date <span class="op">=</span> v[<span class="st">&#39;date&#39;</span>]</a>
<a class="sourceLine" id="cb40-110" title="110">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb40-111" title="111">            date <span class="op">=</span> <span class="st">&quot;NA&quot;</span></a>
<a class="sourceLine" id="cb40-112" title="112"></a>
<a class="sourceLine" id="cb40-113" title="113">        tempVal <span class="op">=</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>.join([citeKey, rType, author, title, date])</a>
<a class="sourceLine" id="cb40-114" title="114">        dataNew.append(tempVal)</a>
<a class="sourceLine" id="cb40-115" title="115"></a>
<a class="sourceLine" id="cb40-116" title="116">    finalData <span class="op">=</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>.join(dataNew)</a>
<a class="sourceLine" id="cb40-117" title="117">    <span class="cf">with</span> <span class="bu">open</span>(bibTexFile.replace(<span class="st">&quot;.bib&quot;</span>, <span class="st">&quot;.csv&quot;</span>), <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf8&#39;</span>) <span class="im">as</span> f9:</a>
<a class="sourceLine" id="cb40-118" title="118">        f9.write(finalData)</a>
<a class="sourceLine" id="cb40-119" title="119"></a>
<a class="sourceLine" id="cb40-120" title="120"></a>
<a class="sourceLine" id="cb40-121" title="121"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-122" title="122"><span class="co"># RUN EVERYTHING ##########################################</span></a>
<a class="sourceLine" id="cb40-123" title="123"><span class="co">###########################################################</span></a>
<a class="sourceLine" id="cb40-124" title="124"></a>
<a class="sourceLine" id="cb40-125" title="125"><span class="bu">print</span>(settings[<span class="st">&quot;bib_all&quot;</span>])</a>
<a class="sourceLine" id="cb40-126" title="126"></a>
<a class="sourceLine" id="cb40-127" title="127"><span class="co">#convertToJSON(settings[&quot;bib_all&quot;])</span></a>
<a class="sourceLine" id="cb40-128" title="128"><span class="co">#convertToYAML(settings[&quot;bib_all&quot;])</span></a>
<a class="sourceLine" id="cb40-129" title="129"><span class="co">#convertToCSV(settings[&quot;bib_all&quot;])</span></a>
<a class="sourceLine" id="cb40-130" title="130"></a>
<a class="sourceLine" id="cb40-131" title="131"></a>
<a class="sourceLine" id="cb40-132" title="132"><span class="bu">print</span>(<span class="st">&quot;Done!&quot;</span>)</a></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lesson-05.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lesson-07.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "github"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
